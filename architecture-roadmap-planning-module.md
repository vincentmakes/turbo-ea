# Architecture & Roadmap Planning Module

## Product Specification & User Stories

---

## 1. Executive Summary

The Architecture & Roadmap Planning module extends the core Enterprise Architecture (EA) platform — which already provides Application Portfolio Management with Initiative and Objective Fact Sheets — by adding the ability to **model future-state architectures without modifying the live (as-is) landscape**. It introduces Transformations, Impacts, Milestones, Scenario Modeling, and enhanced Roadmap Reporting to bridge the gap between high-level business objectives and actionable IT changes.

### Core Value Proposition

> Enable enterprise architects, IT leaders, and business stakeholders to collaboratively plan, simulate, compare, and execute architectural changes — functioning like **"Git for architecture management"** with a **"Time Machine"** to visualize the future state of the IT landscape at any point in time.

### Key Differentiators

- **Delta-only storage**: Rather than duplicating entire as-is architectures into sandbox copies, the system only stores what is being changed, enabling instant modeling even for organizations with thousands of applications.
- **Sandbox modeling**: All transformations remain in a "Planned" state until explicitly executed, preventing accidental pollution of the live architecture.
- **Automatic impact decomposition**: Each transformation template automatically generates the implied low-level impacts (relation changes, field updates, lifecycle transitions), reducing manual effort and ensuring consistency.

---

## 2. Glossary & Domain Concepts

| Concept | Definition |
|---|---|
| **Fact Sheet** | The core data entity in the EA platform (e.g., Application, IT Component, Business Capability, Interface, Organization, Initiative, Objective). |
| **Initiative (Project)** | A Fact Sheet representing a planned project or program of work that drives architectural change. Already exists in the platform. |
| **Objective** | A Fact Sheet representing a strategic business goal. Already exists in the platform. Linked to Business Capabilities and Initiatives. |
| **Transformation** | A structured, template-driven description of a single architectural change within an Initiative (e.g., "Introduce Application X", "Decommission Interface Y"). A single Initiative can contain multiple Transformations. |
| **Transformation Template** | A predefined (or custom) template that defines the type of architectural change and its implied impacts. |
| **Impact** | A granular, attribute-level or relation-level change that a Transformation will apply when executed (e.g., "set lifecycle to End of Life", "create relation to Organization Z"). |
| **Implied Impact** | An Impact automatically generated by the system when a Transformation template is filled out. |
| **Custom Impact** | An additional Impact manually defined by the user on top of the implied ones. |
| **Impact Type** | A classification label applied to impacts for reporting and filtering (e.g., Introduction, Decommissioning, Rollout, Withdrawal, Discontinuation). |
| **Transformation Status** | The lifecycle state of a Transformation: `Draft` → `Planned` → `Executed`. |
| **Milestone** | A named date marker on an Initiative's timeline representing a key event or decision point (e.g., "Go-Live", "UAT Complete", "Board Approval"). |
| **Roadmap Report** | A timeline-based visualization showing Initiatives, their lifecycle phases, milestones, and projected impacts on the architecture. |
| **Transformations Explorer** | A centralized workspace-wide view to search, filter, sort, edit, and execute all Transformations across all Initiatives. |
| **Time Slider / Timeline Projection** | A UI control that allows users to select a future date and see how the architecture would look if all planned transformations up to that date were applied. |
| **Scenario** | A set of Initiatives with different Transformations defined, allowing side-by-side comparison of alternative roadmaps. |

---

## 3. Architecture & Data Model

### 3.1 Entity Relationships

```
Objective (existing)
├── relates to → Business Capability (many-to-many)
└── supported by → Initiative (many-to-many)

Initiative / Project (existing, extended)
├── has many → Transformation (new, 1:N)
│   ├── uses → Transformation Template (predefined or custom)
│   ├── has many → Impact (1:N, auto-generated + custom)
│   │   ├── targets → Fact Sheet (any type)
│   │   └── classified as → Impact Type
│   ├── has → Transformation Status (Draft | Planned | Executed)
│   └── has → Completion Date
├── has many → Milestone (new, 1:N)
│   ├── has → Name, Target Date, Description
│   └── referenced by → Initiative lifecycle phases
├── has → Project Status (for color-coded reporting)
├── has → Lifecycle (Plan → Phase In → Active → Phase Out → End of Life)
└── parent/child hierarchy → child Initiatives
```

### 3.2 New Data Entities

#### Transformation

| Field | Type | Required | Description |
|---|---|---|---|
| `id` | UUID | Yes | Unique identifier |
| `name` | String | Yes | User-defined name for the transformation |
| `initiative_id` | FK → Initiative | Yes | Parent Initiative |
| `template_id` | FK → Template | No | Reference to predefined or custom template |
| `status` | Enum | Yes | `draft`, `planned`, `executed` |
| `completion_date` | Date | No | Expected completion date |
| `created_by` | FK → User | Yes | Creator |
| `updated_by` | FK → User | Yes | Last modifier |
| `created_at` | Timestamp | Yes | Creation timestamp |
| `updated_at` | Timestamp | Yes | Last update timestamp |

#### Impact

| Field | Type | Required | Description |
|---|---|---|---|
| `id` | UUID | Yes | Unique identifier |
| `transformation_id` | FK → Transformation | Yes | Parent Transformation |
| `impact_type` | Enum | Yes | Classification (see Impact Types below) |
| `action` | Enum | Yes | The operation type (see Impact Actions below) |
| `source_fact_sheet_id` | FK → Fact Sheet | No | Source Fact Sheet |
| `target_fact_sheet_id` | FK → Fact Sheet | Yes | Target Fact Sheet affected |
| `field_name` | String | No | Target field (for set field actions) |
| `field_value` | JSON | No | New value for the field |
| `relation_type` | String | No | Type of relation to create/remove |
| `is_implied` | Boolean | Yes | Whether auto-generated by template or manually added |
| `execution_order` | Integer | Yes | Order in which impacts are executed |

#### Milestone

| Field | Type | Required | Description |
|---|---|---|---|
| `id` | UUID | Yes | Unique identifier |
| `initiative_id` | FK → Initiative | Yes | Parent Initiative |
| `name` | String | Yes | Name of the milestone |
| `target_date` | Date | Yes | Target date |
| `description` | Text | No | Additional context |

#### Transformation Template

| Field | Type | Required | Description |
|---|---|---|---|
| `id` | UUID | Yes | Unique identifier |
| `name` | String | Yes | Template name |
| `description` | Text | No | Guidance text |
| `target_fact_sheet_type` | Enum | Yes | Which Fact Sheet type this applies to |
| `is_predefined` | Boolean | Yes | System-provided vs. custom |
| `implied_impacts_schema` | JSON | Yes | Definition of auto-generated impacts |
| `required_fields` | JSON | Yes | Fields the user must fill when using this template |

### 3.3 Impact Types (Classification)

| Impact Type | Description |
|---|---|
| `introduction` | A new application/component is introduced into the landscape |
| `decommissioning` | An application/component is fully decommissioned and removed |
| `rollout` | An existing application is rolled out to additional organizations/regions |
| `withdrawal` | An existing application is withdrawn from specific organizations/regions |
| `discontinuation` | An application or interface is discontinued (end-of-life'd) |
| `upgrade` | A technology version is upgraded |
| `replacement` | One application/component replaces another |
| `migration` | Data or workload is migrated between systems |
| `modification` | Attributes or relations of an existing element are changed |

### 3.4 Impact Actions (Operations)

| Action | Description |
|---|---|
| `create_fact_sheet` | Create a new Fact Sheet (status = Planned until executed) |
| `archive_fact_sheet` | Archive/remove a Fact Sheet |
| `set_field` | Set a field on a Fact Sheet to a specific value |
| `copy_field` | Copy a field value from one Fact Sheet to another |
| `create_relation` | Create a relation between two Fact Sheets |
| `remove_relation` | Remove a relation between two Fact Sheets |
| `remove_all_relations` | Remove all relations of a given type from a Fact Sheet |
| `set_relation_validity` | Set the active from/until dates on a relation |
| `set_relation_field` | Set a field on a relation |
| `create_relation_constraint` | Create a constraining relation |
| `remove_relation_constraint` | Remove a constraining relation |
| `add_tag` | Add a tag to a Fact Sheet |
| `remove_tag` | Remove a tag from a Fact Sheet |
| `replace_tags` | Replace all tags of a type on a Fact Sheet |

### 3.5 Predefined Transformation Templates

| Template | Target Type | Description | Key Implied Impacts |
|---|---|---|---|
| **Introduce Application** | Application | Introduce a new application into the landscape | Creates new Application FS (status: Planned), creates relations to specified Organization/Business Capability, sets lifecycle to "Plan" |
| **Rollout Application** | Application | Extend an existing application to new orgs/regions | Creates relations to additional Organizations/Business Capabilities, Impact Type = Rollout |
| **Discontinue Application** | Application | Mark an application as discontinued | Sets lifecycle phase to "End of Life", Impact Type = Discontinuation |
| **Withdraw Application** | Application | Remove application from specific user groups/capabilities | Removes relations to specified Organizations/Business Capabilities, Impact Type = Withdrawal |
| **Decommission Application** | Application | Fully remove an application from the landscape | Sets lifecycle to "End of Life", removes all relations, Impact Type = Decommissioning |
| **Replace Application** | Application | Replace one application with another | Combination: introduces successor + decommissions predecessor + migrates relations |
| **Introduce Interface** | Interface | Add a new interface | Creates new Interface FS, links to provider/consumer Applications |
| **Decommission Interface** | Interface | Remove an interface | Sets lifecycle to "End of Life", removes relations, Impact Type = Decommissioning |
| **Upgrade Technology** | IT Component | Upgrade a technology to a new version | Updates version field, sets new lifecycle dates, Impact Type = Upgrade |
| **Custom Transformation** | Any | User-defined transformation | No implied impacts; user defines all impacts manually |

---

## 4. Workflow & Process Flow

### 4.1 End-to-End Transformation Lifecycle

```
Phase 1: STRATEGIZE
  └── Define Objectives → Link to Business Capabilities
        └── Identify supporting Initiatives

Phase 2: PLAN
  └── Within each Initiative:
        ├── Create Transformations (from templates)
        ├── Review implied Impacts
        ├── Add custom Impacts
        ├── Set Completion Dates
        └── Define Milestones

Phase 3: EVALUATE
  └── Model multiple Scenarios (alternative Initiatives)
        ├── Visualize future state via Time Slider
        ├── Compare Impact Reports across scenarios
        └── Assess cost, risk, timeline trade-offs

Phase 4: DECIDE
  └── Stakeholder review of scenarios
        ├── Use Roadmap Reports for presentation
        ├── Select preferred scenario
        └── Obtain sign-off

Phase 5: EXECUTE
  └── Execute Transformations (applies Impacts to live architecture)
        ├── Fact Sheets move from "Planned" to "Active"
        ├── Relations are created/removed as defined
        └── Fields are updated per Impact definitions

Phase 6: MONITOR
  └── Track progress via Roadmap Reports
        ├── Update Project Status (color-coded)
        ├── Mark Milestones as achieved
        └── Iterate — refine remaining Transformations
```

### 4.2 Transformation State Machine

```
                ┌──────────┐
                │  DRAFT   │  (initial state, editable)
                └────┬─────┘
                     │ user completes required fields
                     ▼
                ┌──────────┐
                │ PLANNED  │  (visible in reports, sandbox)
                └────┬─────┘
                     │ user clicks "Execute"
                     ▼
                ┌──────────┐
                │ EXECUTED │  (impacts applied to live architecture)
                └──────────┘
```

### 4.3 Impact Execution Order

When a Transformation is executed, its impacts are applied in a defined sequence to ensure logical consistency:

1. **Create Fact Sheets** — new entities are created first
2. **Set fields** — field values are assigned
3. **Copy fields** — values are propagated between Fact Sheets
4. **Create relations** — new connections are established
5. **Set relation fields** — relation attributes are set
6. **Set relation validity** — active from/until dates are applied
7. **Create/Remove relation constraints** — constraining relations are handled
8. **Remove relations** — connections are severed
9. **Remove all relations** — bulk relation removal
10. **Add/Remove/Replace tags** — tagging operations
11. **Archive Fact Sheets** — deprecated entities are archived

### 4.4 Relation Configuration Options (Admin)

Administrators can configure how impacts handle relations upon execution:

| Option | Behavior |
|---|---|
| **Remove and create direct relations** (default) | Relations are immediately created or removed when the transformation is executed, regardless of completion date. |
| **Maintain active from/until field** | The transformation's completion date is recorded in the relation's validity period. Relations are not physically removed — instead, an "Active until" date is set. |

---

## 5. User Stories

### 5.1 Epic: Transformation Templates

#### US-5.1.1 — View Available Templates

> **As an** Enterprise Architect,
> **I want to** see a list of all available predefined transformation templates when creating a new transformation,
> **so that** I can quickly select the appropriate template for my planned change without building impacts from scratch.

**Acceptance Criteria:**

- The template panel displays all predefined templates grouped by target Fact Sheet type (Application, Interface, IT Component).
- Each template shows a name, description, and target Fact Sheet type.
- Custom templates created by admins are listed separately under "Custom."
- The template list is searchable/filterable.

#### US-5.1.2 — Create Transformation from Predefined Template

> **As an** Enterprise Architect,
> **I want to** select a predefined template (e.g., "Introduce Application") and fill in the required fields,
> **so that** the system automatically generates the implied impacts and I only need to review/customize them.

**Acceptance Criteria:**

- Selecting a template opens a form with the template's required fields (e.g., application name, target organization, supported business capability).
- Only the transformation name is mandatory; all other fields can be completed later.
- On save, the system auto-generates implied impacts based on the template definition.
- The transformation is created in `Draft` status.
- The implied impacts are clearly labeled as "Implied" and distinguished from custom impacts.

#### US-5.1.3 — Create Custom Transformation

> **As an** Enterprise Architect,
> **I want to** create a transformation without using a predefined template,
> **so that** I can document specific architectural changes that don't fit standard patterns.

**Acceptance Criteria:**

- User can create a "Custom Transformation" with a name and free-form description.
- No impacts are auto-generated; user defines all impacts manually.
- Supports all impact action types.

#### US-5.1.4 — Manage Custom Templates (Admin)

> **As an** Administrator,
> **I want to** create, edit, and delete custom transformation templates,
> **so that** my organization can standardize recurring change patterns that aren't covered by predefined templates.

**Acceptance Criteria:**

- Admin can define: template name, description, target Fact Sheet type, required fields, and implied impacts schema.
- Custom templates appear alongside predefined ones in the template panel.
- Predefined templates cannot be deleted, only hidden.
- Custom templates can be deprecated (hidden from new use but still visible on existing transformations).

#### US-5.1.5 — Configure Predefined Template Impacts (Admin)

> **As an** Administrator,
> **I want to** configure which implied impacts are included in predefined transformation templates,
> **so that** templates align with our organization's specific architecture governance rules.

**Acceptance Criteria:**

- Admin can enable/disable specific implied impacts within predefined templates.
- Admin can add additional default impacts to predefined templates.
- Changes apply only to new transformations; existing ones retain their original configuration.

---

### 5.2 Epic: Transformation Lifecycle Management

#### US-5.2.1 — Create Transformation within Initiative

> **As an** Enterprise Architect,
> **I want to** create one or more transformations within an Initiative Fact Sheet,
> **so that** I can detail the specific architectural changes this project will deliver.

**Acceptance Criteria:**

- The Initiative Fact Sheet has a dedicated "Transformations" tab.
- User can click "+ New Transformation" to open the template selection panel.
- Multiple transformations can exist within a single Initiative.
- Each transformation shows its name, template type, status, completion date, and impact count.

#### US-5.2.2 — Bulk Create Transformations (Table View)

> **As an** Enterprise Architect working on a large-scale transformation (e.g., ERP migration),
> **I want to** create multiple transformations at once using a table/grid view,
> **so that** I can efficiently define many changes without repetitive form navigation.

**Acceptance Criteria:**

- The Transformations tab supports switching to a table view mode.
- In table view, user can add rows, select templates per row, and fill required fields inline.
- Bulk creation from right-clicking columns containing Fact Sheets is supported.
- All transformations created in bulk have their implied impacts auto-generated.

#### US-5.2.3 — Edit Transformation

> **As an** Enterprise Architect,
> **I want to** edit an existing transformation (rename, change fields, update completion date),
> **so that** I can refine plans as requirements evolve.

**Acceptance Criteria:**

- Hovering over a transformation reveals an Edit button.
- All fields except the template type are editable after creation.
- Editing a transformation recalculates implied impacts if template-relevant fields change.
- Only transformations in `Draft` or `Planned` status can be edited.
- `Executed` transformations are read-only.

#### US-5.2.4 — Delete Transformation

> **As an** Enterprise Architect,
> **I want to** delete a transformation that is no longer needed,
> **so that** the Initiative accurately reflects the current plan.

**Acceptance Criteria:**

- Deleting a transformation removes all its implied and custom impacts.
- If the transformation created a new Fact Sheet (status: Planned), that Fact Sheet is archived automatically.
- A confirmation dialog warns the user about cascading deletions.
- Fact Sheets that existed before the transformation was created are NOT affected.

#### US-5.2.5 — Execute Transformation

> **As an** Enterprise Architect,
> **I want to** execute a planned transformation to apply its impacts to the live architecture,
> **so that** the as-is landscape reflects completed changes.

**Acceptance Criteria:**

- An "Execute" action is available on transformations in `Planned` status.
- Execution applies all impacts in the defined execution order (see §4.3).
- New Fact Sheets transition from "Planned" to "Active" status.
- Relations are created/removed as defined.
- The transformation status changes to `Executed`.
- An execution confirmation dialog summarizes all changes that will be applied.
- Execution is logged with timestamp and user.

#### US-5.2.6 — View Transformation on Target Fact Sheet

> **As an** Enterprise Architect,
> **I want to** see all transformations affecting a specific Fact Sheet (e.g., an Application) from that Fact Sheet's detail view,
> **so that** I understand the planned changes for any given element.

**Acceptance Criteria:**

- Every Fact Sheet (Application, IT Component, Interface, etc.) has a "Transformations" tab.
- The tab lists all transformations that target this Fact Sheet, with their parent Initiative, status, and completion date.
- User can navigate to the parent Initiative or edit/execute the transformation from this view.

---

### 5.3 Epic: Impact Management

#### US-5.3.1 — View Implied Impacts

> **As an** Enterprise Architect,
> **I want to** see the automatically generated impacts of a transformation,
> **so that** I can review what changes will be applied to the architecture.

**Acceptance Criteria:**

- Implied impacts are displayed in a structured list within the transformation detail view.
- Impacts are grouped by execution order category.
- Each impact shows: action type, target Fact Sheet, field/relation being changed, and new value.
- Implied impacts are visually distinct from custom impacts (e.g., labeled, different icon/color).

#### US-5.3.2 — Add Custom Impact

> **As an** Enterprise Architect,
> **I want to** add additional impacts beyond the ones implied by the template,
> **so that** I can capture all planned changes accurately.

**Acceptance Criteria:**

- An "+ Add Impact" button is available in the transformation detail view.
- User can select from all available impact action types.
- User can target any Fact Sheet in the workspace.
- Custom impacts are inserted into the execution order based on their action type.
- Custom impacts are labeled as "Custom."

#### US-5.3.3 — Edit/Remove Custom Impact

> **As an** Enterprise Architect,
> **I want to** edit or remove custom impacts I've added,
> **so that** I can adjust plans as they evolve.

**Acceptance Criteria:**

- Custom impacts can be edited (target, action, values) or deleted.
- Implied impacts cannot be deleted, but can be disabled/skipped.
- Deleting a custom impact does not affect other impacts.

#### US-5.3.4 — Preview Impact Summary

> **As an** Enterprise Architect,
> **I want to** see a consolidated summary of all impacts (implied + custom) before executing a transformation,
> **so that** I can validate the full scope of changes.

**Acceptance Criteria:**

- A "Preview" or "Summary" view aggregates all impacts.
- The preview shows the before/after state of each affected Fact Sheet.
- The preview clearly identifies: new Fact Sheets, archived Fact Sheets, changed fields, added/removed relations.
- This view is also shown in the execution confirmation dialog.

---

### 5.4 Epic: Milestones

#### US-5.4.1 — Create Milestone

> **As a** Project Manager or Enterprise Architect,
> **I want to** add milestones to an Initiative with a name, target date, and description,
> **so that** I can mark key events and decision points on the project timeline.

**Acceptance Criteria:**

- Milestones are managed in a dedicated "Milestones" section of the Initiative Fact Sheet.
- Fields: Name (required), Target Date (required), Description (optional).
- Multiple milestones can be added per Initiative.
- Milestones are displayed in chronological order.

#### US-5.4.2 — Link Milestone to Lifecycle Phase

> **As an** Enterprise Architect,
> **I want to** link a milestone to an Initiative's lifecycle phase date (e.g., "Go-Live" milestone sets the "Active" phase start date),
> **so that** lifecycle transitions are driven by milestone achievement rather than arbitrary dates.

**Acceptance Criteria:**

- In the Initiative's Lifecycle section, users can switch from absolute date entry to milestone selection (diamond icon toggle).
- When a milestone is selected for a lifecycle phase, the phase date automatically tracks the milestone's target date.
- Changing the milestone date propagates to all linked lifecycle phases.

#### US-5.4.3 — Inherited Milestones (Parent-Child)

> **As an** Enterprise Architect managing a program with sub-projects,
> **I want** child Initiatives to reference milestones defined on their parent Initiative,
> **so that** cross-project dependencies are modeled through shared milestones.

**Acceptance Criteria:**

- When linking a lifecycle phase to a milestone, the dropdown includes milestones from parent Initiatives.
- Changes to a parent milestone's date propagate to all child Initiatives referencing it.
- The milestone origin (own vs. inherited) is clearly indicated.

#### US-5.4.4 — Edit/Delete Milestone

> **As a** Project Manager,
> **I want to** edit a milestone's name, date, or description, or delete it,
> **so that** I can keep the plan up to date.

**Acceptance Criteria:**

- Hover-to-edit pattern on milestone items.
- Editing a milestone's date updates all lifecycle phases linked to it.
- Deleting a milestone removes its links to lifecycle phases (reverts to no date or prompts for replacement).
- Milestones can also be edited via the Inventory's table view (bulk editing).

#### US-5.4.5 — Display Milestones in Roadmap Reports

> **As a** Stakeholder,
> **I want to** see milestones as diamond markers on the Roadmap Report timeline,
> **so that** I can understand key decision points and dependencies at a glance.

**Acceptance Criteria:**

- Milestones appear as diamond-shaped icons on the Initiative's timeline bar in all Roadmap Reports.
- Hovering over a milestone icon shows name and target date.
- A report setting "Show labels of milestones" enables persistent labels.
- Milestone labels are included when exporting reports to PDF/PNG.
- Milestones also appear in Landscape, Matrix, and Portfolio reports when an Initiative is projected on the timeline.

---

### 5.5 Epic: Scenario Modeling & Comparison

#### US-5.5.1 — Create Alternative Scenarios

> **As an** Enterprise Architect,
> **I want to** create multiple Initiatives with different sets of transformations representing alternative approaches,
> **so that** I can model and compare different transformation strategies.

**Acceptance Criteria:**

- Multiple Initiatives can be linked to the same Objective.
- Each Initiative can have its own set of transformations, milestones, and completion dates.
- A naming/tagging convention (or a "Scenario" label) helps identify alternatives.

#### US-5.5.2 — Compare Scenario Impacts

> **As an** Enterprise Architect,
> **I want to** compare the impacts of different scenarios side-by-side in reports,
> **so that** I can evaluate trade-offs and recommend the best approach.

**Acceptance Criteria:**

- Reports (especially Impact Reports and Application Landscape Reports) can filter/group by Initiative to show impacts per scenario.
- A comparison view highlights differences between scenarios: which applications are affected, which relations change, cost and timeline differences.
- Impact Type views allow filtering (e.g., show only "Introduction" or "Decommissioning" impacts per scenario).

#### US-5.5.3 — Visualize Future State (Time Slider)

> **As an** Enterprise Architect,
> **I want to** select a future date and see how the architecture would look if all planned transformations up to that date were applied,
> **so that** I can validate the target state at any point in the transformation journey.

**Acceptance Criteria:**

- Reports with timelines include a "Time Slider" control.
- Moving the slider to a date overlays all planned impacts with completion dates before that date.
- The visualization clearly distinguishes: current state elements, elements to be introduced, elements to be removed, and elements with changed attributes.
- The time slider works with Landscape, Matrix, and Application Landscape reports.

---

### 5.6 Epic: Transformations Explorer

#### US-5.6.1 — Centralized Transformation View

> **As an** Enterprise Architect,
> **I want to** access a single, centralized view of all transformations across all Initiatives in the workspace,
> **so that** I can manage and monitor the full transformation portfolio.

**Acceptance Criteria:**

- A "Transformations Explorer" page is accessible from the main navigation.
- Displays all transformations in a table/grid with columns: Name, Initiative, Template Type, Status, Completion Date, Created By, Updated By.
- Supports both list and card views.

#### US-5.6.2 — Search & Filter Transformations

> **As an** Enterprise Architect,
> **I want to** search, filter, and sort transformations in the Explorer,
> **so that** I can quickly find specific transformations.

**Acceptance Criteria:**

- Free-text search by transformation name and target Fact Sheet name.
- Filter by: Transformation Type (template), Status, Completion Date/Range, Created By, Updated By, Initiative, Impact Type.
- Sort by: Fact Sheet Name, Status, Completion Date, Created By, Updated By.
- Filters are combinable (AND logic).

#### US-5.6.3 — Execute/Edit/Delete from Explorer

> **As an** Enterprise Architect,
> **I want to** execute, edit, or delete transformations directly from the Explorer,
> **so that** I don't need to navigate to each Initiative individually.

**Acceptance Criteria:**

- Row-level actions: Edit, Execute, Delete.
- Bulk selection for batch execution or deletion.
- Execution from Explorer follows the same confirmation flow as from the Initiative.

#### US-5.6.4 — Filter Fact Sheets by Transformation Status

> **As an** Enterprise Architect,
> **I want to** filter Fact Sheets in standard reports by their transformation status (e.g., show only "Planned" applications),
> **so that** I can distinguish future-state elements from current ones.

**Acceptance Criteria:**

- A "Transformation Status" filter is available in all Fact Sheet reports and the Inventory.
- Filter options: All, No Transformation, Planned (not yet executed), Executed.
- Fact Sheets created by transformations that haven't been executed remain in "Planned" status and are clearly identifiable.

---

### 5.7 Epic: Roadmap & Impact Reports

#### US-5.7.1 — Roadmap Report with Milestones

> **As a** Stakeholder or CIO,
> **I want to** see a Gantt-style roadmap of all Initiatives with milestones, lifecycle phases, and parent-child relationships,
> **so that** I can understand the transformation timeline and dependencies.

**Acceptance Criteria:**

- Initiatives are shown as horizontal bars with lifecycle phases color-coded.
- Milestones appear as diamond markers on the timeline.
- Parent-child hierarchy is represented through nesting/indentation.
- Timeline is zoomable (months, quarters, years).
- Report is exportable to PDF/PNG with milestones and labels included.

#### US-5.7.2 — Impact Report (Application Landscape with Impacts)

> **As an** Enterprise Architect,
> **I want to** see the Application Landscape Report enriched with an "Impact Type" view,
> **so that** I can understand how each application is affected by planned transformations.

**Acceptance Criteria:**

- The Application Landscape Report supports an "Impact Type" view overlay.
- Each application cell is color-coded or annotated by impact type (Introduction, Decommissioning, Rollout, Withdrawal, Upgrade, etc.).
- Filtering by specific Initiative or Impact Type is supported.
- The report visually shows the delta between as-is and to-be states.

#### US-5.7.3 — Timeline Projections in Reports

> **As an** Enterprise Architect,
> **I want** all timeline-based reports (Landscape, Matrix, Portfolio) to show Initiative projections alongside the architecture elements,
> **so that** I can correlate planned changes with the timeline.

**Acceptance Criteria:**

- When Initiatives are present, their timeline bars and milestones can be projected onto Landscape, Matrix, and Portfolio reports.
- The projection is optional and can be toggled on/off.
- Milestone icons appear on the projected timeline.

#### US-5.7.4 — Delta / As-Is vs. To-Be Report

> **As an** Enterprise Architect,
> **I want to** generate a report that shows the explicit differences between the current architecture and the planned target state,
> **so that** I can communicate the scope of change to stakeholders.

**Acceptance Criteria:**

- A dedicated "Delta Report" or "As-Is vs. To-Be" report view is available.
- Shows: new elements (Planned), removed elements (to be archived), changed attributes, added/removed relations.
- Can be scoped to a specific Initiative, Objective, or the entire workspace.
- Exportable to PDF for stakeholder distribution.

---

### 5.8 Epic: Governance & Administration

#### US-5.8.1 — Configure Relation Impact Behavior (Admin)

> **As an** Administrator,
> **I want to** configure how transformation impacts handle relations upon execution,
> **so that** our organization's governance rules for relation management are enforced.

**Acceptance Criteria:**

- Admin can choose between two modes:
  - **Remove and create direct relations** (default): Relations are immediately created/removed upon execution.
  - **Maintain active from/until field**: The completion date is recorded in the relation's validity period; relations are not physically removed but deactivated.
- This setting applies globally to all predefined transformation templates.
- Custom transformations can override this setting per impact.

#### US-5.8.2 — Protect System-Managed Fields

> **As an** Administrator,
> **I want to** ensure that transformation-managed fields (`transformationStatus`, `impactType`) cannot be manually modified via metamodel configuration,
> **so that** the integrity of the transformation engine is maintained.

**Acceptance Criteria:**

- The fields `lxTransformationStatus` and `lxImpactType` are read-only in metamodel configuration.
- Attempting to add custom values or remove defaults shows an error message.
- These fields are only modifiable through the transformation service.

#### US-5.8.3 — Audit Trail for Transformations

> **As an** Administrator or Compliance Officer,
> **I want to** see a complete audit trail of all transformation activities (creation, editing, execution, deletion),
> **so that** I can track who changed what and when for governance purposes.

**Acceptance Criteria:**

- Every transformation action is logged: create, update, execute, delete.
- Log entries include: timestamp, user, action, affected Fact Sheets, and impact details.
- Audit trail is accessible from both the transformation detail view and a central audit log.
- Audit data is exportable.

#### US-5.8.4 — Role-Based Access Control

> **As an** Administrator,
> **I want to** control who can create, edit, execute, and delete transformations,
> **so that** only authorized users can modify the architecture plan.

**Acceptance Criteria:**

- Permissions: `transformation.create`, `transformation.edit`, `transformation.execute`, `transformation.delete`.
- The `execute` permission is separate and can be restricted to senior architects or approvers.
- Permissions can be scoped by Initiative, Objective, or workspace-wide.
- Default roles: Viewer (read-only), Contributor (create/edit), Approver (execute), Admin (full control).

---

### 5.9 Epic: Notifications & Collaboration

#### US-5.9.1 — Notify Stakeholders of Transformation Changes

> **As an** Enterprise Architect,
> **I want** stakeholders subscribed to affected Fact Sheets to receive notifications when a transformation targeting those Fact Sheets is created, modified, or executed,
> **so that** impacted teams are aware of planned changes.

**Acceptance Criteria:**

- Notification triggers: transformation created, transformation executed, transformation deleted.
- Notifications include: transformation name, Initiative, target Fact Sheets, and impact summary.
- Notifications are sent via the platform's existing notification system (email / in-app).
- Users can opt in/out of transformation notifications per Fact Sheet.

#### US-5.9.2 — Comment on Transformations

> **As a** team member,
> **I want to** add comments to a transformation,
> **so that** architectural decisions and discussion context are captured alongside the plan.

**Acceptance Criteria:**

- A comments section is available on the transformation detail view.
- Comments support @-mentions to notify other users.
- Comment history is preserved even after execution.

---

### 5.10 Epic: Integration & API

#### US-5.10.1 — Transformation CRUD via API

> **As a** Developer or Integration Engineer,
> **I want to** create, read, update, delete, and execute transformations via a REST/GraphQL API,
> **so that** I can integrate transformation management with external tools (e.g., Jira, ServiceNow).

**Acceptance Criteria:**

- Full CRUD endpoints for Transformations, Impacts, and Milestones.
- Execute endpoint with confirmation/dry-run mode.
- API responses include impact summaries and affected Fact Sheets.
- API follows the same permission model as the UI.

#### US-5.10.2 — Link Transformations to External Project Tools

> **As an** Enterprise Architect,
> **I want to** link transformations or Initiatives to external project tracking tools (e.g., Jira epics, Azure DevOps work items),
> **so that** I can track whether the detailed development work contributes to the architectural goals.

**Acceptance Criteria:**

- A "Linked Items" section on transformations allows adding external URLs or integration references.
- For supported integrations (Jira, Azure DevOps), status can be synced to indicate completion.
- External tool completion can trigger transformation execution readiness notifications.

---

## 6. Non-Functional Requirements

| Requirement | Target |
|---|---|
| **Performance** | Time Slider rendering must complete in < 3 seconds for workspaces with up to 5,000 Fact Sheets and 500 active transformations. |
| **Scalability** | Support up to 10,000 transformations per workspace. Bulk creation of 100+ transformations in a single operation. |
| **Data Integrity** | Transformation execution must be atomic — if any impact fails, the entire execution rolls back. |
| **Concurrency** | Warn users if another user is editing the same transformation. Prevent simultaneous execution of conflicting transformations targeting the same Fact Sheet. |
| **Export** | All transformation data exportable via XLSX and API. Reports exportable to PDF/PNG. |
| **Accessibility** | WCAG 2.1 AA compliance for all transformation UI components. |
| **Backward Compatibility** | Workspaces without the module enabled should not see transformation-related UI elements or fields. The module is activated per workspace via license. |

---

## 7. Implementation Phases

### Phase 1 — Foundation (MVP)

- Transformation data model and persistence
- Predefined templates: Introduce Application, Decommission Application, Decommission Interface
- Implied impact auto-generation
- Transformation CRUD within Initiative Fact Sheet
- Transformation status lifecycle (Draft → Planned → Executed)
- Basic execution engine (apply impacts to live architecture)
- Transformation tab on target Fact Sheets

### Phase 2 — Expanded Templates & Milestones

- Additional templates: Rollout, Withdraw, Replace, Upgrade Technology, Introduce Interface
- Custom Transformations
- Milestones (CRUD, lifecycle linking, parent-child inheritance)
- Roadmap Report with milestone markers
- Bulk creation (table view)

### Phase 3 — Reporting & Visualization

- Impact Type classification and report views
- Application Landscape Report with Impact Type overlay
- Time Slider / Timeline Projection
- Delta Report (As-Is vs. To-Be)
- Transformations Explorer (centralized view)

### Phase 4 — Governance & Integration

- Role-based access control for transformations
- Relation impact configuration (admin)
- Audit trail
- API endpoints (CRUD + execute)
- External tool linking (Jira, Azure DevOps)
- Notifications and comments

### Phase 5 — Advanced Scenarios

- Custom template builder (admin)
- Scenario comparison tooling
- Cross-Initiative milestone sharing
- Transformation analytics (velocity, completion rates, impact metrics)
- Transformation recommendations (AI-assisted: suggest templates based on Objective type)

---

## 8. Open Questions & Decisions

| # | Question | Options | Decision |
|---|---|---|---|
| 1 | Should transformation execution be reversible? | A) Yes, full undo within 24h. B) No, but support manual rollback via a new "Revert" transformation. C) No, execution is final. | C |
| 2 | How do we handle conflicting transformations targeting the same Fact Sheet in different Initiatives? | A) Prevent with validation. B) Warn but allow. C) Last-executed-wins. | A |
| 3 | Should "Planned" Fact Sheets count toward licensing/tier limits? | A) No, only after execution. B) Yes, immediately on creation. | A |
| 4 | Should scenario comparison be a first-class feature or achieved through report filtering? | A) Dedicated scenario comparison page. B) Report-level filtering only. | A |
| 5 | What happens when a transformation's target Fact Sheet is modified or archived outside the transformation? | A) Warn on execution. B) Block execution until conflict resolved. C) Auto-update impact references. | B |
| 6 | Should milestones support cross-Initiative sharing natively or only through parent-child hierarchy? | A) Parent-child only. B) Any-to-any linking. | B |

---

## 9. References

- SAP LeanIX Architecture and Road Map Planning documentation
- SAP LeanIX Transformations, Impacts, and Milestones user guides
- SAP LeanIX Product Roadmap (public)
- SAP LeanIX Business Transformation Management webinar materials
